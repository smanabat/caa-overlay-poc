[{"/Users/developer/Source/caa/temp/src/index.js":"1","/Users/developer/Source/caa/temp/src/App.js":"2","/Users/developer/Source/caa/temp/src/reportWebVitals.js":"3","/Users/developer/Source/caa/temp/src/components/polygonLayer.js":"4","/Users/developer/Source/caa/temp/src/components/canvas.js":"5","/Users/developer/Source/caa/temp/src/store.js":"6","/Users/developer/Source/caa/temp/src/components/regions.js":"7","/Users/developer/Source/caa/temp/src/components/baseImage.js":"8","/Users/developer/Source/caa/temp/src/components/regionsList.js":"9","/Users/developer/Source/caa/temp/src/components/pointLabels.js":"10","/Users/developer/Source/caa/temp/src/components/skiCuts.js":"11"},{"size":500,"mtime":1607118718155,"results":"12","hashOfConfig":"13"},{"size":3699,"mtime":1607384492835,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1607118718156,"results":"15","hashOfConfig":"13"},{"size":4048,"mtime":1607143505040,"results":"16","hashOfConfig":"13"},{"size":9394,"mtime":1607385517955,"results":"17","hashOfConfig":"13"},{"size":117886,"mtime":1607384567801,"results":"18","hashOfConfig":"13"},{"size":1639,"mtime":1607365940748,"results":"19","hashOfConfig":"13"},{"size":1484,"mtime":1607366711145,"results":"20","hashOfConfig":"13"},{"size":1626,"mtime":1607366557784,"results":"21","hashOfConfig":"13"},{"size":1708,"mtime":1607376765883,"results":"22","hashOfConfig":"13"},{"size":745,"mtime":1607385411243,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"19uo54u",{"filePath":"27","messages":"28","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/developer/Source/caa/temp/src/index.js",[],["50","51"],"/Users/developer/Source/caa/temp/src/App.js",["52","53","54","55","56","57","58","59","60","61","62","63","64","65"],"/Users/developer/Source/caa/temp/src/reportWebVitals.js",[],"/Users/developer/Source/caa/temp/src/components/polygonLayer.js",["66","67","68","69"],"import React, {Component, useState} from \"react\";\nimport Konva from \"konva\";\nimport {render} from \"react-dom\";\nimport {Stage, Layer, Group, Line, Rect} from \"react-konva\";\n\nconst defaultState = {\n    points: [],\n    curMousePos: [0, 0],\n    isMouseOverStartPoint: false,\n    isFinished: false\n};\n\nexport const PolygonLayer = () => {\n    const [points, setPoints] = useState(defaultState.points);\n    const [curMousePos, setCurMousePos] = useState(defaultState.curMousePos);\n    const [isMouseOverStartPoint, setIsMouseOverStartPoint] = useState(defaultState.isMouseOverStartPoint);\n    const [isFinished, setisFinished] = useState(defaultState.isFinished);\n\n\n    const getMousePos = stage => {\n        return [stage.getPointerPosition().x, stage.getPointerPosition().y];\n    };\n\n    const handleClick = event => {\n        const stage = event.target.getStage();\n        const mousePos = getMousePos(stage);\n\n        if (isFinished) {\n            return;\n        }\n        if (isMouseOverStartPoint && points.length >= 3) {\n            setisFinished(true)\n        } else {\n            setPoints([...points, mousePos])\n        }\n    };\n\n    const handleMouseMove = event => {\n        const stage = event.target.getStage();\n        const mousePos = getMousePos(stage);\n\n        setCurMousePos(mousePos);\n    };\n    const handleMouseOverStartPoint = event => {\n        if (isFinished || points.length < 3) return;\n        event.target.scale({x: 2, y: 2});\n        setIsMouseOverStartPoint(true)\n    };\n\n    const handleMouseOutStartPoint = event => {\n        event.target.scale({x: 1, y: 1});\n        setIsMouseOverStartPoint(false)\n    };\n\n    const handleDragStartPoint = event => {\n        console.log(\"start\", event);\n    };\n\n    const handleDragMovePoint = event => {\n        const index = event.target.index - 1;\n        console.log(event.target);\n        const pos = [event.target.attrs.x, event.target.attrs.y];\n        console.log(\"move\", event);\n        console.log(pos);\n        setPoints([...points.slice(0, index), pos, ...points.slice(index + 1)])\n    };\n\n    const handleDragOutPoint = event => {\n        console.log(\"end\", event);\n    };\n\n    const flattenedPoints = points\n        .concat(isFinished ? [] : curMousePos)\n        .reduce((a, b) => a.concat(b), []);\n    return (\n        <Stage\n            width={window.innerWidth}\n            height={window.innerHeight}\n            onMouseDown={handleClick}\n            onMouseMove={handleMouseMove}\n        >\n            <Layer>\n                <Line\n                    points={flattenedPoints}\n                    stroke=\"black\"\n                    strokeWidth={5}\n                    closed={isFinished}\n                    fill={'red'}\n                />\n                {points.map((point, index) => {\n                    const width = 6;\n                    const x = point[0] - width / 2;\n                    const y = point[1] - width / 2;\n                    const startPointAttr =\n                        index === 0\n                            ? {\n                                hitStrokeWidth: 12,\n                                onMouseOver: handleMouseOverStartPoint,\n                                onMouseOut: handleMouseOutStartPoint\n                            }\n                            : null;\n                    return (\n                        <Rect\n                            key={index}\n                            x={x}\n                            y={y}\n                            width={width}\n                            height={width}\n                            fill=\"white\"\n                            stroke=\"black\"\n                            strokeWidth={3}\n                            onDragStart={handleDragStartPoint}\n                            onDragMove={handleDragMovePoint}\n                            onDragEnd={handleDragOutPoint}\n                            draggable\n                            {...startPointAttr}\n                        />\n                    );\n                })}\n            </Layer>\n        </Stage>\n    );\n}\n\n","/Users/developer/Source/caa/temp/src/components/canvas.js",["70","71","72","73","74"],"/Users/developer/Source/caa/temp/src/store.js",["75"],"/Users/developer/Source/caa/temp/src/components/regions.js",["76"],"import React from \"react\";\nimport { Layer, Line } from \"react-konva\";\n\nimport useStore from \"../store\";\n\nexport default () => {\n    const regions = useStore(s => s.regions);\n    const layerRef = React.useRef(null);\n\n    const selectedId = useStore(s => s.selectedRigionId);\n    const selectRegion = useStore(s => s.selectRegion);\n\n    return (\n        <Layer ref={layerRef}>\n            {regions.map(region => {\n                const isSelected = region.id === selectedId;\n                return (\n                    <React.Fragment key={region.id}>\n                        {/* first we need to erase previous drawings */}\n                        {/* we can do it with  destination-out blend mode */}\n                        <Line\n                            globalCompositeOperation=\"destination-out\"\n                            points={region.points.flatMap(p => [p.x, p.y])}\n                            fill=\"black\"\n                            listening={false}\n                            closed\n                        />\n                        {/* then we just draw new region */}\n                        <Line\n                            name=\"region\"\n                            points={region.points.flatMap(p => [p.x, p.y])}\n                            fill={region.color}\n                            closed\n                            opacity={isSelected ? 1 : 0.8}\n                            onClick={() => {\n                                selectRegion(region.id);\n                            }}\n                        />\n                    </React.Fragment>\n                );\n            })}\n        </Layer>\n    );\n};\n","/Users/developer/Source/caa/temp/src/components/baseImage.js",["77","78"],"import React from \"react\";\nimport { Image, Layer } from \"react-konva\";\nimport useImage from \"use-image\";\nimport imgMountain from '../assets/sead-dedic-VDJ9BH4K1x4-unsplash.jpg'\n\nimport useStore from \"../store\";\n\nconst IMAGE_NUMBER = 1 + Math.round(Math.random() * 1);\nconst IMAGE_URL = imgMountain;\n\nexport default () => {\n    const [image] = useImage(IMAGE_URL, \"Anonymous\");\n\n    const setImageSize = useStore(state => state.setImageSize);\n    const setScale = useStore(state => state.setScale);\n    const setSize = useStore(state => state.setSize);\n    const width = useStore(state => state.width);\n    const height = useStore(state => state.height);\n\n    const { brightness } = useStore();\n\n    React.useEffect(() => {\n        if (!image) {\n            return;\n        }\n        const scale = Math.min(width / image.width, height / image.height);\n        setScale(scale);\n        setImageSize({ width: image.width, height: image.height });\n\n        const ratio = image.width / image.height;\n        setSize({\n            width: width,\n            height: width / ratio\n        });\n    }, [image, width, height, setScale, setImageSize, setSize]);\n\n    const layerRef = React.useRef(null);\n\n    React.useEffect(() => {\n        const canvas = layerRef.current.getCanvas()._canvas;\n        canvas.style.filter = `brightness(${(brightness + 1) * 100}%)`;\n    }, [brightness]);\n\n    return (\n        <Layer ref={layerRef}>\n            <Image image={image} />\n        </Layer>\n    );\n};\n","/Users/developer/Source/caa/temp/src/components/regionsList.js",[],"/Users/developer/Source/caa/temp/src/components/pointLabels.js",["79","80","81"],"/Users/developer/Source/caa/temp/src/components/skiCuts.js",["82","83","84","85","86"],{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","severity":1,"message":"92","line":3,"column":9,"nodeType":"93","messageId":"94","endLine":3,"endColumn":14},{"ruleId":"91","severity":1,"message":"95","line":3,"column":16,"nodeType":"93","messageId":"94","endLine":3,"endColumn":21},{"ruleId":"91","severity":1,"message":"96","line":3,"column":23,"nodeType":"93","messageId":"94","endLine":3,"endColumn":27},{"ruleId":"91","severity":1,"message":"97","line":3,"column":29,"nodeType":"93","messageId":"94","endLine":3,"endColumn":33},{"ruleId":"91","severity":1,"message":"98","line":6,"column":9,"nodeType":"93","messageId":"94","endLine":6,"endColumn":21},{"ruleId":"91","severity":1,"message":"99","line":7,"column":8,"nodeType":"93","messageId":"94","endLine":7,"endColumn":19},{"ruleId":"91","severity":1,"message":"100","line":23,"column":7,"nodeType":"93","messageId":"94","endLine":23,"endColumn":16},{"ruleId":"91","severity":1,"message":"101","line":28,"column":7,"nodeType":"93","messageId":"94","endLine":28,"endColumn":15},{"ruleId":"91","severity":1,"message":"102","line":79,"column":12,"nodeType":"93","messageId":"94","endLine":79,"endColumn":19},{"ruleId":"91","severity":1,"message":"103","line":80,"column":12,"nodeType":"93","messageId":"94","endLine":80,"endColumn":21},{"ruleId":"91","severity":1,"message":"104","line":83,"column":11,"nodeType":"93","messageId":"94","endLine":83,"endColumn":26},{"ruleId":"91","severity":1,"message":"105","line":94,"column":11,"nodeType":"93","messageId":"94","endLine":94,"endColumn":24},{"ruleId":"91","severity":1,"message":"106","line":105,"column":11,"nodeType":"93","messageId":"94","endLine":105,"endColumn":22},{"ruleId":"91","severity":1,"message":"107","line":109,"column":11,"nodeType":"93","messageId":"94","endLine":109,"endColumn":26},{"ruleId":"91","severity":1,"message":"108","line":1,"column":16,"nodeType":"93","messageId":"94","endLine":1,"endColumn":25},{"ruleId":"91","severity":1,"message":"109","line":2,"column":8,"nodeType":"93","messageId":"94","endLine":2,"endColumn":13},{"ruleId":"91","severity":1,"message":"110","line":3,"column":9,"nodeType":"93","messageId":"94","endLine":3,"endColumn":15},{"ruleId":"91","severity":1,"message":"111","line":4,"column":23,"nodeType":"93","messageId":"94","endLine":4,"endColumn":28},{"ruleId":"112","severity":1,"message":"113","line":82,"column":1,"nodeType":"114","endLine":313,"endColumn":3},{"ruleId":"115","severity":1,"message":"116","line":121,"column":8,"nodeType":"117","endLine":121,"endColumn":10,"suggestions":"118"},{"ruleId":"91","severity":1,"message":"119","line":191,"column":19,"nodeType":"93","messageId":"94","endLine":191,"endColumn":24},{"ruleId":"120","severity":1,"message":"121","line":226,"column":59,"nodeType":"122","messageId":"123","endLine":226,"endColumn":61},{"ruleId":"120","severity":1,"message":"121","line":233,"column":63,"nodeType":"122","messageId":"123","endLine":233,"endColumn":65},{"ruleId":"91","severity":1,"message":"124","line":4,"column":7,"nodeType":"93","messageId":"94","endLine":4,"endColumn":19},{"ruleId":"112","severity":1,"message":"113","line":6,"column":1,"nodeType":"114","endLine":44,"endColumn":3},{"ruleId":"91","severity":1,"message":"125","line":8,"column":7,"nodeType":"93","messageId":"94","endLine":8,"endColumn":19},{"ruleId":"112","severity":1,"message":"113","line":11,"column":1,"nodeType":"114","endLine":49,"endColumn":3},{"ruleId":"91","severity":1,"message":"126","line":8,"column":11,"nodeType":"93","messageId":"94","endLine":8,"endColumn":25},{"ruleId":"91","severity":1,"message":"127","line":11,"column":11,"nodeType":"93","messageId":"94","endLine":11,"endColumn":21},{"ruleId":"91","severity":1,"message":"128","line":12,"column":11,"nodeType":"93","messageId":"94","endLine":12,"endColumn":23},{"ruleId":"91","severity":1,"message":"111","line":2,"column":9,"nodeType":"93","messageId":"94","endLine":2,"endColumn":14},{"ruleId":"91","severity":1,"message":"92","line":2,"column":29,"nodeType":"93","messageId":"94","endLine":2,"endColumn":34},{"ruleId":"91","severity":1,"message":"96","line":2,"column":36,"nodeType":"93","messageId":"94","endLine":2,"endColumn":40},{"ruleId":"91","severity":1,"message":"97","line":2,"column":42,"nodeType":"93","messageId":"94","endLine":2,"endColumn":46},{"ruleId":"91","severity":1,"message":"129","line":8,"column":11,"nodeType":"93","messageId":"94","endLine":8,"endColumn":21},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"no-unused-vars","'Stage' is defined but never used.","Identifier","unusedVar","'Layer' is defined but never used.","'Star' is defined but never used.","'Text' is defined but never used.","'PolygonLayer' is defined but never used.","'imgMountain' is defined but never used.","'LionImage' is assigned a value but never used.","'URLImage' is defined but never used.","'clicked' is assigned a value but never used.","'mouseMove' is assigned a value but never used.","'handleDragStart' is assigned a value but never used.","'handleDragEnd' is assigned a value but never used.","'handleClick' is assigned a value but never used.","'handleMouseMove' is assigned a value but never used.","'Component' is defined but never used.","'Konva' is defined but never used.","'render' is defined but never used.","'Group' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","react-hooks/exhaustive-deps","React Hook React.useEffect has missing dependencies: 'height' and 'setSize'. Either include them or remove the dependency array.","ArrayExpression",["132"],"'stage' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'exampleState' is assigned a value but never used.","'IMAGE_NUMBER' is assigned a value but never used.","'setPointLabels' is assigned a value but never used.","'selectedId' is assigned a value but never used.","'selectRegion' is assigned a value but never used.","'setSkiCuts' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"133","fix":"134"},"Update the dependencies array to be: [height, setSize]",{"range":"135","text":"136"},[3402,3404],"[height, setSize]"]